"""Shared constants for intermine314 runtime defaults."""

from intermine314.config.runtime_defaults import get_runtime_defaults

_RUNTIME_DEFAULTS = get_runtime_defaults()
_QUERY_DEFAULTS = _RUNTIME_DEFAULTS.query_defaults
_LIST_DEFAULTS = _RUNTIME_DEFAULTS.list_defaults
_TARGETED_EXPORT_DEFAULTS = _RUNTIME_DEFAULTS.targeted_export_defaults
_SERVICE_DEFAULTS = _RUNTIME_DEFAULTS.service_defaults
_REGISTRY_DEFAULTS = _RUNTIME_DEFAULTS.registry_defaults

DEFAULT_PARALLEL_WORKERS = _QUERY_DEFAULTS.default_parallel_workers
DEFAULT_PARALLEL_PAGE_SIZE = _QUERY_DEFAULTS.default_parallel_page_size
DEFAULT_BATCH_SIZE = _QUERY_DEFAULTS.default_batch_size
DEFAULT_KEYSET_BATCH_SIZE = _QUERY_DEFAULTS.default_keyset_batch_size
DEFAULT_KEYSET_AUTO_MIN_SIZE = _QUERY_DEFAULTS.keyset_auto_min_size
DEFAULT_PARALLEL_MAX_BUFFERED_ROWS = _QUERY_DEFAULTS.default_parallel_max_buffered_rows
DEFAULT_QUERY_THREAD_NAME_PREFIX = _QUERY_DEFAULTS.default_query_thread_name_prefix
DEFAULT_EXPORT_BATCH_SIZE = _QUERY_DEFAULTS.default_export_batch_size
DEFAULT_PARALLEL_PAGINATION = _QUERY_DEFAULTS.default_parallel_pagination
DEFAULT_PARALLEL_PROFILE = _QUERY_DEFAULTS.default_parallel_profile
DEFAULT_PARALLEL_ORDERED_MODE = _QUERY_DEFAULTS.default_parallel_ordered_mode
DEFAULT_LARGE_QUERY_MODE = _QUERY_DEFAULTS.default_large_query_mode
DEFAULT_PARALLEL_PREFETCH = _QUERY_DEFAULTS.default_parallel_prefetch
DEFAULT_PARALLEL_INFLIGHT_LIMIT = _QUERY_DEFAULTS.default_parallel_inflight_limit
DEFAULT_ORDER_WINDOW_PAGES = _QUERY_DEFAULTS.default_order_window_pages

DEFAULT_LIST_CHUNK_SIZE = _LIST_DEFAULTS.default_list_chunk_size
DEFAULT_LIST_ENTRIES_BATCH_SIZE = _LIST_DEFAULTS.default_list_entries_batch_size
DEFAULT_TARGETED_EXPORT_PAGE_SIZE = _TARGETED_EXPORT_DEFAULTS.default_targeted_export_page_size
DEFAULT_TARGETED_LIST_NAME_PREFIX = _TARGETED_EXPORT_DEFAULTS.default_targeted_list_name_prefix
DEFAULT_TARGETED_LIST_DESCRIPTION = _TARGETED_EXPORT_DEFAULTS.default_targeted_list_description
DEFAULT_TARGETED_LIST_TAGS = _TARGETED_EXPORT_DEFAULTS.default_targeted_list_tags
DEFAULT_TARGETED_REPORT_MODE = _TARGETED_EXPORT_DEFAULTS.default_targeted_report_mode
DEFAULT_TARGETED_REPORT_SAMPLE_SIZE = _TARGETED_EXPORT_DEFAULTS.default_targeted_report_sample_size
DEFAULT_CONNECT_TIMEOUT_SECONDS = _SERVICE_DEFAULTS.default_connect_timeout_seconds
DEFAULT_REQUEST_TIMEOUT_SECONDS = _SERVICE_DEFAULTS.default_request_timeout_seconds
DEFAULT_ID_RESOLUTION_MAX_BACKOFF_SECONDS = _SERVICE_DEFAULTS.default_id_resolution_max_backoff_seconds
DEFAULT_REGISTRY_INSTANCES_URL = _SERVICE_DEFAULTS.default_registry_instances_url
DEFAULT_TOR_SOCKS_HOST = _SERVICE_DEFAULTS.default_tor_socks_host
DEFAULT_TOR_SOCKS_PORT = _SERVICE_DEFAULTS.default_tor_socks_port
DEFAULT_TOR_PROXY_SCHEME = _SERVICE_DEFAULTS.default_tor_proxy_scheme

# Production profile tiers used by mine-aware fetch defaults.
DEFAULT_WORKERS_TIER = _REGISTRY_DEFAULTS.default_workers_tier
SERVER_LIMITED_WORKERS_TIER = _REGISTRY_DEFAULTS.server_limited_workers_tier
FULL_WORKERS_TIER = _REGISTRY_DEFAULTS.full_workers_tier
DEFAULT_PRODUCTION_PROFILE_SWITCH_ROWS = _REGISTRY_DEFAULTS.default_production_profile_switch_rows
DEFAULT_REGISTRY_SERVICE_CACHE_SIZE = _REGISTRY_DEFAULTS.default_registry_service_cache_size

PRODUCTION_WORKFLOW_ELT = "elt"
PRODUCTION_WORKFLOW_ETL = "etl"
PRODUCTION_WORKFLOWS = (PRODUCTION_WORKFLOW_ELT, PRODUCTION_WORKFLOW_ETL)

PRODUCTION_PROFILE_ELT_DEFAULT = "elt_default_w4"
PRODUCTION_PROFILE_ELT_SERVER_LIMITED = "elt_server_limited_w8"
PRODUCTION_PROFILE_ELT_FULL = "elt_full_w16"
PRODUCTION_PROFILE_ETL_DEFAULT = "etl_default_w4"
PRODUCTION_PROFILE_ETL_SERVER_LIMITED = "etl_server_limited_w8"
PRODUCTION_PROFILE_ETL_FULL = "etl_full_w16"
